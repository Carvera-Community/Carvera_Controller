
#:include addons/probing/preview/ProbingPreviewPopup.kv
#:include addons/probing/ProbingControls.kv
#:include addons/probing/operations/OutsideCorner/OutsideCornerSettings.kv
#:include addons/probing/operations/InsideCorner/InsideCornerSettings.kv

<ProbingPopup>:
    title:"Probing"
    size_hint: 0.618, 0.6
    pos_hint: {"center_x": 0.5, "center_y": 0.5}
    auto_dismiss: False
#    cb_probe_normally_open: cb_probe_normally_open
#    cb_probe_normally_closed: cb_probe_normally_closed
#    probe_preview_label: probe_preview_label
#    txt_x: txt_x
#    txt_y: txt_y
#    txt_z: txt_z
#    txt_a: txt_a
    GridLayout:
        cols:1
        rows:2
        spacing: dp(10)
        padding: dp(3)
        GridLayout:
            cols:2
            rows:1
            spacing: dp(10)
            padding: dp(3)

            TabbedPanel:
                do_default_tab: False
                tab_width: dp(111)
                TabbedPanelItem:
                    text: tr._('Outside Corners')
                    GridLayout:
                        cols:2
                        rows:1
                        size_hint:1, 1
                        spacing:dp(10)
                        padding:dp(10)
                        GridLayout:
                            size_hint_x: .5
                            cols: 2
                            rows: 2
                            spacing: dp(8)
                            padding: 10

                            ProbeButton:
                                on_press: root.on_outside_corner_probing_pressed("TopLeft")
                                image: 'addons/probing/data/icons_1024x768/X+Y-.png'
                            ProbeButton:
                                on_press: root.on_outside_corner_probing_pressed("TopRight")
                                image: 'addons/probing/data/icons_1024x768/X-Y-.png'
                            ProbeButton:
                                on_press: root.on_outside_corner_probing_pressed("BottomLeft")
                                image: 'addons/probing/data/icons_1024x768/X+Y+.png'
                            ProbeButton:
                                on_press: root.on_outside_corner_probing_pressed("BottomRight")
                                image: 'addons/probing/data/icons_1024x768/X-Y+.png'

                        BoxLayout:
                            size_hint_x: .5
                            OutsideCornerSettings:
                                id: settings
                TabbedPanelItem:
                    text: tr._('Inside Corners')
                    GridLayout:
                        cols:2
                        rows:1
                        size_hint:1, 1
                        spacing:dp(10)
                        padding:dp(10)
                        GridLayout:
                            size_hint_x: .5
                            cols: 2
                            rows: 2
                            spacing: dp(8)
                            padding: 10

                            ProbeButton:
                                on_press: root.on_inside_corner_probing_pressed("TopLeft")
                                image: 'addons/probing/data/icons_1024x768/inX+Y-.png'
                            ProbeButton:
                                on_press: root.on_inside_corner_probing_pressed("TopRight")
                                image: 'addons/probing/data/icons_1024x768/inX-Y-.png'
                            ProbeButton:
                                on_press: root.on_inside_corner_probing_pressed("BottomLeft")
                                image: 'addons/probing/data/icons_1024x768/inX+Y+.png'
                            ProbeButton:
                                on_press: root.on_inside_corner_probing_pressed("BottomRight")
                                image: 'addons/probing/data/icons_1024x768/inX-Y+.png'

                        BoxLayout:
                            size_hint_x: .5
                            InsideCornerSettings:
        BoxLayout:
            spacing: '5dp'
            size_hint_y: None
            height: '40dp'
            Button:
                id: btn_close
                text: tr._('Close')
                on_release: root.dismiss()
